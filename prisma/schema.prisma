generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Company {
  id             String          @id @default(uuid())
  name           String
  sector         String?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  financialData  FinancialData[]
}

model FinancialData {
  id                String   @id @default(uuid())
  companyId         String
  company           Company  @relation(fields: [companyId], references: [id], onDelete: Cascade)
  year              Int
  
  // P&L
  ventas            Float
  ebitda            Float
  gastosFinancieros Float
  impPagado         Float
  capexMant         Float

  // Balance
  deudaBruta        Float
  caja              Float
  activoCorriente   Float
  pasivoCorriente   Float
  clientes          Float
  proveedores       Float
  vidaMedia         Float

  // Operaci√≥n Nueva
  importe           Float
  plazo             Float
  tipoInt           Float

  // Colateral
  colateral         Float
  tipoCol           String

  // Cualitativos
  equipo            Float
  concentracion     Float
  antiguedad        Float
  ciclicidad        Float

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([companyId, year])
}
