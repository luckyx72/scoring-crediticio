generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Company {
  id             String          @id @default(uuid())
  name           String
  sector         String?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  financialData  FinancialData[]
}

model FinancialData {
  id              String   @id @default(uuid())
  companyId       String
  company         Company  @relation(fields: [companyId], references: [id], onDelete: Cascade)
  year            Int
  
  // P&L
  ventas             Float
  cogs               Float
  gastosOperativos   Float
  amortizaciones     Float
  gastosFinancieros  Float?

  // Balance
  caja               Float
  deudaCortoPlazo    Float
  deudaLargoPlazo    Float
  cuentasCobrar      Float
  cuentasPagar       Float
  inventario         Float?

  // Other Optional Inputs
  cotizacion         Float?

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([companyId, year])
}
